<!DOCTYPE html>
<!-- (C) 2019 David J. Kalbfleisch -->

<html lang="en">
    <head>
        <title>Just-In-Time Geometry</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <meta name="description" content="Move around a city while geometry is fetched and loaded just-in-time.  No pre-downloading is necessary!">
        <meta name="keywords" content="geometry, visibility, game, 3d, city, just-in-time">
        <link rel="stylesheet" type="text/css" href="visibility.css">
        <link rel="icon" href="icon.svg" type="image/svg+xml" sizes="any">
        <link rel="apple-touch-icon" href="icon.svg" type="image/svg+xml" sizes="any">
        <!-- TODO - When this becomes a module, import it instead. -->
        <script src="three.js/examples/js/WebGL.js"></script>
    </head>

    <body>
        <ul>
            <li>S - strafe left</li>
            <li>F - strafe right</li>
            <li>E - forward</li>
            <li>D - backward</li>
            <li>J - turn left</li>
            <li>L - turn right</li>
            <li>I - look up</li>
            <li>K - look down</li>
        </ul>

        <div id="first_person" class="container"><noscript>JavaScript is required.</noscript></div>

        <button type="button"><a href="https://github.com/kalbfled/jit-geometry">Learn More</a></button>

        <div id="third_person" class="container"><noscript>JavaScript is required.</noscript></div>

        <p>Click, drag, mouse scroll, and use the arrow keys to control the third person view.  Note the missing geometry that is not obviously missing in the first person view.</p>

        <script type="module">
            import { init, animate } from "./visibility_demo.js"

            if (!WEBGL.isWebGLAvailable())
                window.alert(WEBGL.getWebGLErrorMessage());
            else
            {
                if (init())
                    animate();
            }       
        </script>
    </body>
</html>

